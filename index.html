<!DOCTYPE html>
<html>
<head>
    <title>刹那の見斬り風ゲーム</title>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser.min.js"></script>
    <style>
        body { margin: 0; display: flex; justify-content: center; align-items: center; height: 100vh; background-color: #2d2d2d; }
        canvas { border: 1px solid white; } /* ゲーム画面の境界線 */
    </style>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
</head>
<body>
    <div id="game-container"></div>
      <script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser.min.js"></script>

    <!-- Firebase App (コア) SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js"></script>
    <!-- Firebase Realtime Database SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database.js"></script>

    <script src="game.js"></script>
    <script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyAVjg30oF5Wi7ubhNzujbHTh_TANAqePcQ",
    authDomain: "sethunascore.firebaseapp.com",
    projectId: "sethunascore",
    storageBucket: "sethunascore.firebasestorage.app",
    messagingSenderId: "279404460376",
    appId: "1:279404460376:web:41a7bdd3ccabab675e4d2d",
    measurementId: "G-7V5NKKTKBJ"
  };

  // Initialize Firebase
          let firebaseApp; // グローバルスコープで宣言
          let database;    // グローバルスコープで宣言
          let firebaseInitialized = false; // 初期化フラグ

          try {
            firebaseApp = firebase.initializeApp(firebaseConfig);
            database = firebase.database(firebaseApp);
            firebaseInitialized = true; // 初期化成功フラグ
            console.log('[Firebase] Initialization successful.');
            // (オプション) カスタムイベントを発行してシーンに通知
            // window.dispatchEvent(new CustomEvent('firebaseReady'));
          } catch (e) {
            console.error('[Firebase] Initialization failed:', e);
            firebaseInitialized = false; // 初期化失敗フラグ
          }
</script>
</body>
</html>